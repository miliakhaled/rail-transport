{"version":3,"sources":["layouts/sidebar/Profile.jsx","config.ts","layouts/sidebar/sidebar.tsx","lib/table/UpdateModal.tsx","lib/inputs/BooleanInput.tsx","lib/inputs/DateInput.tsx","lib/inputs/DateRange.tsx","lib/inputs/GraphQLSelect.tsx","lib/inputs/StaticSelect.tsx","lib/inputs/TextInput.tsx","lib/inputs/InputFactory.tsx","lib/form/utils.ts","lib/utils/Info.tsx","lib/form/FormList.tsx","lib/form/RLForm.tsx","lib/form/GraphQLForm.tsx","lib/utils/graphql-helpers.ts","apps/clients/contact/info.tsx","apps/clients/info.tsx","lib/table/utils.ts","lib/table/RLTable.tsx","lib/table/Export.tsx","lib/table/GraphQLTable.tsx","lib/views/ViewToolbar.tsx","lib/views/GraphQLTableView.tsx","apps/clients/contact/graphql/queries.ts","apps/park/info.tsx","apps/park/graphql/queries.ts","routes.tsx","apps/clients/list.tsx","apps/clients/create.tsx","apps/clients/contact/list.tsx","apps/clients/contact/create.tsx","apps/park/list.tsx","apps/park/create.tsx","layouts/content/index.tsx","graphql.ts","links.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Profile","data","useQuery","gql","style","width","height","display","justifyContent","flexDirection","bordered","backgroundColor","textAlign","size","src","window","location","hostname","_","get","type","color","level","browserHistory","createBrowserHistory","serverBaseURL","serverUrl","Sidebar","links","useState","collapse","setCollapse","Sider","collapsible","breakpoint","paddingTop","collapsed","onCollapse","e","theme","mode","defaultSelectedKeys","pathname","defaultOpenKeys","filter","l","pages","findIndex","p","href","map","title","link","index","Item","key","className","icon","to","SubMenu","index2","CollectionCreateForm","visible","onCreate","onCancel","Form","useForm","form","destroyOnClose","afterClose","resetFields","okText","cancelText","onOk","validateFields","then","values","catch","info","console","log","layout","name","initialValues","modifier","label","rules","required","message","Group","value","setVisible","onClick","BooleanInput","fieldDef","onChange","defaultChecked","properties","labelCol","span","valuePropName","target","checked","DateInput","picker","format","defaultDate","placeholder","undefined","allowClear","DateRange","begin","end","RangePicker","locale","Option","Select","OptGroup","SelectControl","save","responseTitle","defaultValue","query","variables","filters","show","identifier","get_items","divider","editable","reduce","acc","cur","loading","items","onValueChange","groupedOptions","groupBy","options","Object","keys","disabled","item","i","res","fields","curr","action","showSearch","optionFilterProp","o","c","StaticSelect","choices","TextInput","help","InputsFactory","extractNestedFieldKeys","forEach","f","sub","field","push","extractForeignKey","multiple_fields","Info","content","Text","placement","InfoCircleOutlined","fontSize","marginLeft","AntFormFields","unique","setValues","gutter","align","xs","md","Math","floor","length","alignSelf","FormList","inputs","List","add","remove","justify","alignItems","shape","PlusOutlined","description","DeleteOutlined","danger","Modal","setAppElement","customStyles","top","left","right","bottom","marginRight","transform","RLForm","subtitle","onFinishUpdate","onFinish","card","internalForm","React","modalIsOpen","setIsOpen","closeModal","isOpen","onAfterOpen","onRequestClose","contentLabel","ref","_subtitle","marginBottom","wrapperCol","GraphQLForm","resultName","mutation","history","buildInput","redirect","updateForm","checkResponse","d","useMutation","doMutation","newInput","input","success","error","handleOnFinish","htmlType","submit","createMutation","operation","queryBuilder","errors","createNestedMutation","response","simple_query","contactColumns","dataIndex","render","b","alert","id","contactInput","contactFilters","inputContactWithClient","clientInput","inputClientWithContactCreate","require","RLTable","onDelete","onSelect","onUpdate","actions","columns","updateColumn","deleteColumn","isUpdatable","isDeletable","updateLink","pagination","refetch","fetchMoreData","count","updateInputs","selected","setSelected","allColumns","onPageChange","onRowPerPageChange","page","rowPerPage","setFieldsValue","confirm","overlay","a","destroyAll","rowKey","dataSource","slice","v","Export","onClose","filename","url","appName","modelName","setChecked","setItems","selection","setSelection","file","setFilename","method","hidden","JSON","stringify","toString","footer","TableContext","createContext","GraphQLTable","Provider","Consumer","deleteItem","updateItem","graphql","resultTitle","initVariables","createLink","expand","nested","exportUrl","expprtFileName","rows","setRowPerPage","setPage","usePagination","all","limit","offset","fetchPolicy","fetchMore","delete","update","useEffect","exports","setExport","lg","borderWidth","padding","rowpage","results","updateQuery","prev","fetchMoreResult","assign","ViewToolbar","onVariablesChange","GraphQLTableView","deleteMutation","setVariables","ALL_CONTACTS","parkColumns","m","designation","y","parkInputs","engine_type","parkUpdate","parkFilters","ALL_ENGINES","routes","component","UpdateModal","path","year","Content","margin","background","minHeight","r","exact","errorLink","onError","graphQLErrors","networkError","locations","nodes","result","statusCode","authLink","setContext","headers","token","localStorage","getItem","authorization","ApolloLink","forward","replace","BatchHttpLink","uri","credentials","client","ApolloClient","cache","InMemoryCache","addTypename","from","TitleContext","App","setValue","Header","paddingLeft","lineHeight","UserOutlined","Boolean","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bd6ce08b.chunk.js","sourcesContent":["import React from 'react'\nimport { Avatar, Card, Typography } from 'antd'\nimport Title from 'antd/lib/typography/Title'\nimport { useQuery } from '@apollo/react-hooks'\nimport gql from 'graphql-tag'\nimport _ from 'lodash'\n\nexport default function Profile() {\n    const { data } = useQuery(gql`\n    query getMe{\n      me {\n        first_name,\n        last_name,\n    profile {\n      photo\n      job\n    }\n  }\n    }\n  `)\n   \n  \n    return (\n        <div style={{width:\"100%\",height:200,display:\"flex\",justifyContent:\"center\",flexDirection:\"row\"}}>\n        <Card bordered={false}  style={{backgroundColor:\"transparent\",textAlign:\"center\"}}>\n            <Avatar  size=\"large\"  src={`http://${window.location.hostname}:8000/${_.get(data, 'me.profile.photo', '')}`} />\n            <br/>\n            <Typography  type=\"danger\" style={{color:\"white\",textAlign:\"center\"}} level={4} >{_.get(data, 'me.first_name', '')} {_.get(data, 'me.last_name', '')}</Typography>\n        </Card>\n      </div>\n    )\n}\n","import { createBrowserHistory } from \"history\";\n\nconst isBuild: boolean = true;\nexport const browserHistory = createBrowserHistory();\nexport const serverPort = isBuild ? 80 : 8000;\nexport const serverBaseURL = `http://${window.location.hostname}:${serverPort}`;\nexport const appTitle: string = \"Rail Transport\";\nexport const serverUrl: string = `http://${window.location.hostname}${\n  isBuild ? \"\" : `:${serverPort}`\n}/gql`;\n","import React, { useState } from \"react\";\nimport { Layout, Menu } from \"antd\";\nimport { LinkType } from \"../../links\";\nimport { Link } from \"react-router-dom\";\nimport Profile from \"./Profile\";\nimport _ from \"lodash\";\nimport { browserHistory } from \"../../config\";\n\ninterface SidebarProps {\n  color?: \"dark\" | \"light\" | undefined;\n  links: LinkType[];\n}\n\nexport default function Sidebar({ color = \"dark\", links }: SidebarProps) {\n  const [collapse, setCollapse] = useState(false);\n  return (\n    <Layout.Sider\n      collapsible\n      breakpoint=\"md\"\n      width=\"250\"\n      style={{ paddingTop: 64 }}\n      collapsed={collapse}\n      onCollapse={(e) => setCollapse(!collapse)}\n    >\n      <Profile />\n      <Menu\n        theme={color}\n        mode=\"inline\"\n        defaultSelectedKeys={[browserHistory.location.pathname]}\n        defaultOpenKeys={links\n          .filter((l) =>\n            l.type === \"multiple\"\n              ? l.pages.findIndex(\n                  (p) => p.href === browserHistory.location.pathname\n                ) !== -1\n              : false\n          )\n          .map((p) => p.title)}\n      >\n        {links.map((link, index) => {\n          if (link.type === \"signle\") {\n            return (\n              <Menu.Item key={link.href} className=\"customclass\">\n                <>\n                  {link.icon}\n                  <span> {link.title}</span>\n                  <Link to={link.href} />\n                </>\n              </Menu.Item>\n            );\n          } else {\n            return (\n              <Menu.SubMenu\n                key={link.title}\n                title={\n                  <span>\n                    {link.icon}\n                    {/* <Icon type={link.icon} /> */}\n                    <span>{link.title}</span>\n                  </span>\n                }\n              >\n                {link.pages.map((p, index2) => (\n                  <Menu.Item key={p.href}>\n                    <strong> {p.title}</strong>\n                    <Link to={p.href} />\n                  </Menu.Item>\n                ))}\n              </Menu.SubMenu>\n            );\n          }\n        })}\n      </Menu>\n    </Layout.Sider>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Button, Modal, Form, Input, Radio } from \"antd\";\nimport { Store } from \"antd/lib/form/interface\";\n\ninterface Values {\n  title: string;\n  description: string;\n  modifier: string;\n}\n\ninterface CollectionCreateFormProps {\n  visible: boolean;\n  onCreate: (values: Values | Store) => void;\n  onCancel: () => void;\n}\n\nconst CollectionCreateForm: React.FC<CollectionCreateFormProps> = ({\n  visible,\n  onCreate,\n  onCancel,\n}) => {\n  const [form] = Form.useForm();\n  return (\n    <Modal\n      destroyOnClose\n      afterClose={() => form.resetFields()}\n      visible={visible}\n      title=\"Create a new collection\"\n      okText=\"Create\"\n      cancelText=\"Cancel\"\n      onCancel={onCancel}\n      onOk={() => {\n        form\n          .validateFields()\n          .then((values) => {\n            form.resetFields();\n            onCreate(values);\n          })\n          .catch((info) => {\n            console.log(\"Validate Failed:\", info);\n          });\n      }}\n    >\n      <Form\n        layout=\"vertical\"\n        name=\"form_in_modal\"\n        initialValues={{ modifier: \"public\" }}\n      >\n        <Form.Item\n          name=\"title\"\n          label=\"Title\"\n          rules={[\n            {\n              required: true,\n              message: \"Please input the title of collection!\",\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item name=\"description\" label=\"Description\">\n          <Input type=\"textarea\" />\n        </Form.Item>\n        <Form.Item\n          name=\"modifier\"\n          className=\"collection-create-form_last-form-item\"\n        >\n          <Radio.Group>\n            <Radio value=\"public\">Public</Radio>\n            <Radio value=\"private\">Private</Radio>\n          </Radio.Group>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default () => {\n  const [visible, setVisible] = useState(false);\n\n  const onCreate = (values: any) => {\n    console.log(\"Received values of form: \", values);\n    setVisible(false);\n  };\n\n  return (\n    <div>\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          setVisible(true);\n        }}\n      >\n        New Collection\n      </Button>\n      <CollectionCreateForm\n        visible={visible}\n        onCreate={onCreate}\n        onCancel={() => {\n          setVisible(false);\n        }}\n      />\n    </div>\n  );\n};\n\n// import React, { ReactElement } from \"react\";\n// import { Modal } from \"antd\";\n// import { RLForm } from \"../form\";\n// import { FormInputType } from \"../form/types\";\n// import { FormInstance } from \"antd/lib/form\";\n// import { Store } from \"antd/lib/form/interface\";\n// import useModal from \"antd/lib/modal/useModal\";\n\n// interface Props {\n//   onSelect?: React.Dispatch<React.SetStateAction<any>>;\n//   updateInputs: FormInputType;\n//   visible: boolean;\n//   onClose: () => void;\n//   updateForm: FormInstance;\n//   onUpdate: ((values: Store) => void) | undefined;\n//   selected: object;\n// }\n\n// export default function UpdateModal({\n//   onSelect,\n//   updateInputs,\n//   visible,\n//   onClose,\n//   updateForm,\n//   onUpdate,\n//   selected,\n// }: Props): ReactElement {\n//   const [modal] = useModal();\n//   return (\n//     <div>\n//       <Modal\n//         key=\"update\"\n//         destroyOnClose\n//         afterClose={() => {\n//           onSelect && onSelect({});\n//           Modal.destroyAll();\n//         }}\n//         visible={visible}\n//         onCancel={() => {\n//           onClose();\n//         }}\n//         title={updateInputs.title}\n//         onOk={() => {\n//           updateForm.validateFields().then((values) => {\n//             onUpdate && onUpdate(values);\n//           });\n//         }}\n//       >\n//         <RLForm\n//           initialValues={selected}\n//           form={updateForm}\n//           card={false}\n//           //initialValues={selected}\n//           inputs={updateInputs}\n//           title=\"\"\n//           onFinish={(e) => {\n//             console.log();\n//           }}\n//         ></RLForm>\n//       </Modal>\n//     </div>\n//   );\n// }\n","import React, { ReactElement } from \"react\";\nimport { Checkbox, Form } from \"antd\";\nimport { InputsType } from \"./types\";\nimport { CheckboxChangeEvent } from \"antd/lib/checkbox\";\nimport { SwitchType } from \"../types/FilterTypes\";\n\nexport default function BooleanInput({\n  fieldDef,\n  onChange,\n  label = true,\n}: InputsType<SwitchType>): ReactElement {\n  const { defaultChecked } = fieldDef.properties as SwitchType;\n\n  const { title, name, required, rules = [] } = fieldDef;\n  return (\n    <Form.Item\n      label={label ? title : \"\"}\n      labelCol={{ span: 24 }}\n      name={name}\n      valuePropName=\"checked\"\n      rules={[\n        {\n          required: required,\n          message: `${title} est obligatoire !`,\n        },\n        ...rules,\n      ]}\n      style={{ width: \"100%\" }}\n    >\n      <Checkbox\n        defaultChecked={defaultChecked}\n        onChange={(e: CheckboxChangeEvent) =>\n          onChange({ [name]: e.target.checked })\n        }\n        style={{ width: \"100%\" }}\n      >\n        {title}\n      </Checkbox>\n    </Form.Item>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport { Form, DatePicker } from \"antd\";\nimport { InputsType } from \"./types\";\nimport { DateType } from \"../types/FilterTypes\";\n\nexport default function DateInput({\n  fieldDef,\n  values,\n  onChange,\n  label = true,\n}: InputsType<DateType>): ReactElement {\n  const { picker, defaultDate, format } = fieldDef.properties as DateType;\n  const { title, name, required, rules = [], size = \"large\" } = fieldDef;\n\n  return (\n    <Form.Item\n      label={label ? title : \"\"}\n      labelCol={{ span: 24 }}\n      name={name}\n      rules={[\n        {\n          type: \"object\",\n\n          required: required,\n          message: `${title} est obligatoire !`,\n        },\n        ...rules,\n      ]}\n      style={{ width: \"100%\" }}\n    >\n      <DatePicker\n        placeholder={title}\n        format={format || undefined}\n        picker={picker}\n        allowClear\n        onChange={(e) => {\n          onChange({ [name]: e });\n        }}\n        size={size}\n        style={{ width: \"100%\" }}\n      ></DatePicker>\n    </Form.Item>\n  );\n}\n","import React from \"react\";\nimport { Form, DatePicker, message } from \"antd\";\nimport locale from \"antd/es/date-picker/locale/fr_FR\";\nimport { InputsType } from \"./types\";\nimport { DateRangeType } from \"../types/FilterTypes\";\n\nexport default function DateRange({\n  fieldDef,\n  onChange,\n  label = true,\n}: InputsType<DateRangeType>) {\n  const { begin, end, picker } = fieldDef.properties as DateRangeType;\n  const { name, title, required, size = \"large\" } = fieldDef;\n  return (\n    <Form.Item\n      label={label ? title : \"\"}\n      style={{ width: \"100%\" }}\n      name={name}\n      rules={[\n        {\n          required: required,\n          message: `${title} est obligatoire !`,\n        },\n      ]}\n    >\n      <DatePicker.RangePicker\n        size={size}\n        // picker={picker}\n        // size={size}\n        // picker={picker}\n        style={{ width: \"100%\" }}\n        // style={{ width: \"100%\" }}\n        locale={locale}\n        onChange={(values) => {\n          if (values) {\n            onChange({\n              [name[0]]: values && values[0] && values[0].format(\"YYYY-MM-DD\"),\n              [name[1]]: values && values[1] && values[1].format(\"YYYY-MM-DD\"),\n            });\n          } else {\n            onChange({ [name[0]]: null, [name[1]]: null });\n          }\n        }}\n      ></DatePicker.RangePicker>\n    </Form.Item>\n  );\n}\n","import { useQuery } from \"@apollo/react-hooks\";\nimport { Select, Form } from \"antd\";\nimport React from \"react\";\nimport _ from \"lodash\";\nimport { InputsType } from \"./types\";\nimport { SelectType } from \"../types/FilterTypes\";\nconst { Option, OptGroup } = Select;\n\nexport default function SelectControl({\n  fieldDef,\n  onChange,\n  values,\n  save,\n  label = true,\n}: InputsType<SelectType>) {\n  const {\n    responseTitle = \"response\",\n    defaultValue,\n    query,\n    variables,\n\n    mode,\n    filters = [],\n    show = \"designation\",\n    identifier = \"id\",\n    get_items,\n    divider,\n  } = fieldDef.properties as SelectType;\n  const {\n    size = \"large\",\n    name,\n    title,\n    required,\n    rules = [],\n    editable = true,\n  } = fieldDef;\n\n  const { data, loading } = useQuery(query, {\n    variables: {\n      ...variables,\n      ...filters.reduce(\n        (acc, cur) => ({ ...acc, [cur]: values ? values[cur] : \"\" }),\n        {}\n      ),\n    },\n  });\n  const items = get_items\n    ? _.get(data, `${responseTitle}.${get_items}`, [])\n    : _.get(data, responseTitle, []);\n\n  const onValueChange = (e: any) => {\n    onChange({ [name]: e });\n  };\n  const groupedOptions = divider ? _.groupBy(items, divider) : null;\n  const options = groupedOptions ? Object.keys(groupedOptions) : null;\n\n  return (\n    <Form.Item\n      label={label ? title : \"\"}\n      labelCol={{ span: 24 }}\n      name={name}\n      rules={[\n        {\n          required: required,\n          message: `${title} est obligatoire !`,\n        },\n        ...rules,\n      ]}\n      style={{ width: \"100%\" }}\n    >\n      <Select\n        disabled={!editable}\n        // key={key}\n        size={size}\n        onChange={\n          save\n            ? (e, item) => {\n                const value =\n                  items[items.findIndex((i: any) => i[identifier] === e)];\n                const res = save.fields.reduce(\n                  (acc, curr) => ({\n                    ...acc,\n                    [curr]: _.get(value, curr, \"\"),\n                  }),\n                  {}\n                );\n                save.action(res);\n                onValueChange(e);\n              }\n            : onValueChange\n        }\n        mode={mode}\n        placeholder={title}\n        loading={loading}\n        allowClear\n        defaultValue={defaultValue}\n        showSearch\n        optionFilterProp=\"children\"\n      >\n        {/* {additional.map(c => (\n                    <option value={c[identifier]}>{c[column]}</option>\n                ))} */}\n\n        {divider && groupedOptions && options\n          ? options?.map((o) => (\n              <OptGroup label={o}>\n                {groupedOptions[o].map((c: any) => (\n                  <Option key={c[identifier]} value={c[identifier]}>\n                    {c[show]}\n                  </Option>\n                ))}\n              </OptGroup>\n            ))\n          : items.map((c: any) => (\n              <Option key={c[identifier]} value={c[identifier]}>\n                {c[show]}\n              </Option>\n            ))}\n      </Select>\n    </Form.Item>\n  );\n}\n","import React from \"react\";\nimport { Form, Select } from \"antd\";\nimport _ from \"lodash\";\nimport { StaticSelectType } from \"../types/FilterTypes\";\nimport { InputsType } from \"./types\";\nexport default function StaticSelect({\n  fieldDef,\n  values,\n  onChange,\n  save,\n  label = true,\n}: InputsType<StaticSelectType>) {\n  const {\n    defaultValue,\n    mode,\n    choices,\n  } = fieldDef.properties as StaticSelectType;\n\n  const { size = \"large\", name, title, required, rules = [] } = fieldDef;\n  const onValueChange = (e: any) => {\n    onChange({ [name]: e });\n  };\n  return (\n    <Form.Item\n      rules={[\n        {\n          required: required,\n          message: `${title} est obligatoire !`,\n        },\n        ...rules,\n      ]}\n      name={name}\n      label={label ? title : \"\"}\n      style={{ width: \"100%\" }}\n    >\n      <Select\n        onChange={\n          save\n            ? (e, item) => {\n                // const value = choices[choices.findIndex((i:any) => i[\"id\"] === e)];\n                // const res = save.fields.reduce(\n                //   (acc, curr) => ({\n                //     ...acc,\n                //     [curr]: _.get(value, curr, \"\"),\n                //   }),\n                //   {}\n                // );\n                save.action({ [name]: e });\n                onValueChange(e);\n              }\n            : onValueChange\n        }\n        mode={mode}\n        allowClear\n        size={size}\n        placeholder={title}\n        defaultValue={defaultValue}\n      >\n        {choices.map((c) => (\n          <Select.Option value={c.value}>{c.title}</Select.Option>\n        ))}\n      </Select>\n    </Form.Item>\n  );\n}\n","import React from \"react\";\nimport { Input, Form } from \"antd\";\nimport { InputsType } from \"./types\";\nimport { InputType } from \"../types/FilterTypes\";\n\nexport default function TextInput({\n  fieldDef,\n  onChange,\n  values,\n  label = true,\n}: InputsType<InputType>) {\n  const { defaultValue, type = \"text\" } = fieldDef.properties as InputType;\n  const { name, title, required, size = \"large\", info } = fieldDef;\n\n  return (\n    <Form.Item\n      name={name}\n      label={label ? title : \"\"}\n      help={info}\n      rules={[\n        {\n          required: required,\n          message: `${title} est obligatoire !`,\n        },\n      ]}\n    >\n      <Input\n        defaultValue={defaultValue}\n        onChange={(e) => onChange({ [name]: e.target.value })}\n        type={type || \"text\"}\n        size={size}\n        placeholder={title}\n        name={name}\n      />\n    </Form.Item>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport {\n  GraphQLSelect,\n  StaticSelect,\n  DateInput,\n  BooleanInput,\n  DateRange,\n  TextInput,\n} from \".\";\nimport { InputsType } from \"./types\";\nimport { InputUnionType } from \"../types/FilterTypes\";\n\nexport default function InputsFactory({\n  fieldDef,\n  onChange = (e) => {},\n  label = false,\n  save,\n  values,\n}: InputsType<InputUnionType>): ReactElement {\n  switch (fieldDef.properties.type) {\n    case \"select\":\n      return (\n        <GraphQLSelect\n          fieldDef={fieldDef as any}\n          onChange={onChange}\n          label={label}\n        />\n      );\n    case \"static\":\n      return (\n        <StaticSelect\n          fieldDef={fieldDef as any}\n          onChange={onChange}\n          label={label}\n        />\n      );\n    case \"date\":\n      return (\n        <DateInput\n          fieldDef={fieldDef as any}\n          onChange={onChange}\n          label={label}\n        />\n      );\n    case \"boolean\":\n      return (\n        <BooleanInput\n          fieldDef={fieldDef as any}\n          onChange={onChange}\n          label={label}\n        />\n      );\n    case \"date_range\":\n      return (\n        <DateRange\n          fieldDef={fieldDef as any}\n          onChange={onChange}\n          label={label}\n        />\n      );\n    default:\n      return (\n        <TextInput\n          fieldDef={fieldDef as any}\n          onChange={onChange}\n          label={label}\n        />\n      );\n  }\n}\n","import _ from \"lodash\";\nimport {\n  SelectType,\n  MultipleType,\n  InputFieldType,\n  InputUnionType,\n} from \"../types/FilterTypes\";\n/**\n * Extract the foreignkey from a nested foreign object ex:\n * ```js\n * {nom:\"milia\",client:{id:1,raison_social:\"mobilis\"}} => {nom:\"milia\", client:1}\n * ```\n * @param {array} fields represent fields that contain information about input, we target the query field if exists\n * @param {array} values the array contains the values\n *\n */\n/**\n * this function extract the foreign keys from foreign array ex: prestations in bareme\n * and return the same list, with foreign key ID instead of an object\n * @param {array} fields list of fields of nested input\n * @param {array} values list of values of the prefetched object\n * @returns same array with foreign keys extracted\n */\nconst extractNestedFieldKeys = (fields: any, initialValues = []) => {\n  let res: any = [];\n\n  initialValues.forEach((f) => {\n    //console.log(f);\n\n    const sub = fields.reduce((acc: any, cur: any) => {\n      return {\n        ...acc,\n        [cur.field]: _.get(f, cur.properties.get, f[cur.name]),\n      };\n    }, {});\n    res.push(sub);\n  });\n  return res;\n};\n\n/**\n * replace foreign objects with the ID\n * @param {array} fields input fields\n * @param {array} values object values\n */\nexport const extractForeignKey = (\n  fields: InputFieldType<InputUnionType>[] = [],\n  values: any\n) => {\n  let res = {};\n  const multiple_fields = fields.filter(\n    (f) => f.properties.type === \"multiple\"\n  );\n\n  //const multiple_values = values[multiple_fields.field];\n\n  res = {\n    ...res,\n    ...fields\n      .filter((f) => !(f.properties.type === \"multiple\"))\n      .reduce(\n        (acc, cur) => ({\n          ...acc,\n          [cur.name]:\n            (cur.properties as SelectType).mode === \"multiple\"\n              ? _.get(values, cur.name, []).map((f: any) => _.get(f, \"id\", []))\n              : _.get(\n                  values,\n                  (cur.properties as SelectType).get + \"\",\n                  values[cur.name]\n                ),\n        }),\n        {}\n      ),\n  };\n\n  multiple_fields.forEach((f) => {\n    res = {\n      ...res,\n      [f.name]: [\n        ...extractNestedFieldKeys(\n          (f.properties as MultipleType).fields,\n          values[f.name]\n        ),\n      ],\n    };\n  });\n\n  return res;\n};\n","import React, { ReactElement } from \"react\";\nimport { Popover, Typography } from \"antd\";\nimport { InfoCircleOutlined } from \"@ant-design/icons\";\ninterface Props {\n  info: string;\n}\n\nexport default function Info({ info = \"dsdsd\" }: Props): ReactElement {\n  return (\n    <div>\n      <Popover\n        content={\n          <div style={{ width: 200 }}>\n            <Typography.Text>{info}</Typography.Text>\n          </div>\n        }\n        placement=\"right\"\n      >\n        <InfoCircleOutlined\n          style={{ fontSize: 12, color: \"#888888\", marginLeft: 8 }}\n        />\n      </Popover>\n    </div>\n  );\n}\n","import React, { ReactElement, useState } from \"react\";\nimport { FormInputType } from \"./types\";\nimport { Form, Input, Button, Row, Col, Empty, Divider, Card } from \"antd\";\nimport { PlusOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport Title from \"antd/lib/typography/Title\";\nimport { InputFactory } from \"../inputs\";\nimport {\n  MultipleType,\n  InputFieldType,\n  InputUnionType,\n} from \"../types/FilterTypes\";\nimport { FormInstance } from \"antd/lib/form\";\nimport Info from \"../utils/Info\";\n\ninterface AntFormFieldsProps {\n  fields: InputFieldType<InputUnionType>[];\n  index: number;\n  unique?: string[];\n  form?: FormInstance;\n}\nexport function AntFormFields({\n  fields,\n  index,\n  unique,\n  form,\n}: AntFormFieldsProps): ReactElement {\n  const [values, setValues] = useState({});\n  const onChange = (value: object) => {\n    setValues({ ...values, ...value });\n  };\n\n  return (\n    <Row gutter={16} align=\"middle\">\n      {fields.map((i, index2) => (\n        <Col\n          xs={24}\n          md={Math.floor(24 / fields.length)}\n          style={{ alignSelf: \"center\" }}\n        >\n          <InputFactory\n            fieldDef={{\n              ...i,\n              name: index !== undefined ? [index, i.name] : i.name,\n            }}\n            onChange={onChange}\n            label={false}\n          />\n        </Col>\n      ))}\n    </Row>\n  );\n}\n\ninterface Props {\n  inputs: Omit<InputFieldType<InputUnionType>, \"required\" | \"rules\" | \"size\">;\n}\nconst layout = {\n  labelCol: { span: 24 },\n  wrapperCol: { span: 24 },\n};\nexport default function FormList({ inputs }: Props): ReactElement {\n  return (\n    <Form.List name={inputs.name}>\n      {(fields, { add, remove }) => {\n        return (\n          <Card\n            title={\n              <Row justify=\"space-between\">\n                <Col style={{ display: \"flex\", alignItems: \"center\" }}>\n                  <div style={{ display: \"flex\" }}>\n                    {inputs.title} {inputs.info && <Info info={inputs.info} />}\n                  </div>\n                </Col>\n                <Col style={{ display: \"flex\", alignItems: \"center\" }}>\n                  <Button\n                    type=\"primary\"\n                    shape=\"circle\"\n                    onClick={() => {\n                      add();\n                    }}\n                  >\n                    <PlusOutlined />\n                  </Button>\n                </Col>\n              </Row>\n            }\n          >\n            {fields.length === 0 ? (\n              <Empty description=\"aucun lment n'a encore t ajout!\"></Empty>\n            ) : null}\n            {fields.map((field, index) => (\n              <Row\n                gutter={[16, 2]}\n                style={{ display: \"flex\", alignItems: \"start\" }}\n              >\n                <Col span={23}>\n                  <Form.Item key={field.key}>\n                    <AntFormFields\n                      //form={form}\n                      //unique={unique}\n                      fields={(inputs.properties as MultipleType).fields}\n                      index={index}\n                    />\n                  </Form.Item>\n                </Col>\n\n                {fields.length > 0 ? (\n                  <Col span={1}>\n                    <Button\n                      size=\"small\"\n                      className=\"dynamic-delete-button\"\n                      icon={<DeleteOutlined />}\n                      danger\n                      onClick={() => {\n                        remove(field.name);\n                      }}\n                    />\n                  </Col>\n                ) : null}\n              </Row>\n            ))}\n          </Card>\n          //   <Legend\n          //     legend={legend}\n          //     title={inputs.title}\n          //     info={inputs.info}\n          //     action={\n          //       <Button\n          //         type=\"primary\"\n          //         size=\"middle\"\n          //         onClick={() => {\n          //           add();\n          //         }}\n          //       >\n          //         <Add />\n          //       </Button>\n          //     }\n          //   >\n          //     <br />\n          //     <br />\n\n          //   </Legend>\n        );\n      }}\n    </Form.List>\n  );\n}\n","import React, { ReactElement, useState } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { Form, Row, Col, Divider, Card, Button } from \"antd\";\nimport { InputFactory } from \"../inputs\";\nimport { useForm, FormInstance } from \"antd/lib/form/util\";\nimport { Store } from \"antd/lib/form/interface\";\nimport { FormInputType } from \"./types\";\nimport { extractForeignKey } from \"./utils\";\nimport FormList from \"./FormList\";\nimport Info from \"../utils/Info\";\nimport Modal from \"react-modal\";\n\nModal.setAppElement(\"#root\");\n\ninterface RLFormProps {\n  title: string;\n  inputs: FormInputType;\n  redirect?: string;\n  initialValues?: object;\n  onFinishUpdate?: ((values: Store) => void) | undefined;\n  buildInput?: () => any;\n  history?: RouteComponentProps[\"history\"];\n  span?: number;\n  form?: FormInstance;\n  mode?: \"update\" | \"create\";\n  onFinish: ((values: Store) => void) | undefined;\n  label?: boolean;\n  card?: boolean;\n}\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\nexport default function RLForm({\n  inputs,\n  onFinishUpdate,\n  title,\n  initialValues,\n  span = 12,\n  form,\n  onFinish,\n  label = false,\n  card = true,\n}: RLFormProps): ReactElement {\n  const [internalForm] = useForm();\n  const [values, setValues] = useState({});\n  const onChange = (value: any) => {\n    setValues({ ...values, ...value });\n  };\n  var subtitle: any;\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    subtitle.style.color = \"#f00\";\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n  return (\n    <div>\n      <Modal\n        isOpen={modalIsOpen}\n        onAfterOpen={afterOpenModal}\n        onRequestClose={closeModal}\n        style={customStyles}\n        contentLabel=\"Example Modal\"\n      >\n        <h2 ref={(_subtitle) => (subtitle = _subtitle)}>Hello</h2>\n        <button onClick={closeModal}>close</button>\n        <div>I am a modal</div>\n        <form>\n          <input />\n          <button>tab navigation</button>\n          <button>stays</button>\n          <button>inside</button>\n          <button>the modal</button>\n        </form>\n      </Modal>\n      <Card\n        title={\n          card ? (\n            <div style={{ display: \"flex\" }}>\n              {inputs.title} {inputs.info && <Info info={inputs.info} />}\n            </div>\n          ) : null\n        }\n        style={{ marginBottom: 16 }}\n        // actions={[\n        //   <Row gutter={16} justify=\"end\">\n        //     <Col span={3}>\n        //       <Button\n        //         //onClick={() => form.resetFields()}\n        //         style={{ width: \"100%\" }}\n        //         type=\"default\"\n        //       >\n        //         clear\n        //       </Button>\n        //     </Col>\n        //     <Col span={3}>\n        //       <Button\n        //         onClick={() => {\n        //           form?.submit();\n        //         }}\n        //         style={{ width: \"100%\" }}\n        //         type=\"primary\"\n        //       >\n        //         submit\n        //       </Button>\n        //     </Col>\n        //   </Row>,\n        // ]}\n      >\n        <Form\n          initialValues={\n            initialValues ? extractForeignKey(inputs.fields, initialValues) : {}\n          }\n          {...{\n            labelCol: { span: 24 },\n            wrapperCol: { span: 24 },\n          }}\n          form={form || internalForm}\n          name=\"form\"\n          onFinish={onFinish}\n        >\n          <div className=\"form\">\n            <div\n              title={inputs.title}\n              //   info={inputs.info}\n            >\n              <Row gutter={[20, 0]}>\n                {inputs.fields.map((i) =>\n                  i.properties.type === \"multiple\" ? (\n                    <Col span={24}>\n                      {/* <Col span={24}>\n                        <Divider />\n                      </Col> */}\n                      <FormList\n                        // unique={i.unique}\n                        // legend={legend}\n                        inputs={i}\n                        //name={i.graphql || i.field}\n                      />\n                    </Col>\n                  ) : (\n                    <Col md={span} xs={24}>\n                      <InputFactory\n                        fieldDef={i}\n                        label={label}\n                        onChange={onChange}\n                        values={values}\n                      />\n                    </Col>\n                  )\n                )}\n              </Row>\n            </div>\n          </div>\n        </Form>\n      </Card>\n    </div>\n  );\n}\n","import React, { ReactElement, useState } from \"react\";\nimport { FormInputType } from \"./types\";\nimport { Store } from \"antd/lib/form/interface\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { FormInstance } from \"antd/lib/form\";\nimport RLForm from \"./RLForm\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { DocumentNode } from \"graphql\";\nimport { useForm } from \"antd/lib/form/util\";\nimport { Row, Col, Button, message } from \"antd\";\nimport _ from \"lodash\";\ninterface Props {\n  title?: string;\n  inputs: FormInputType;\n  mutation: DocumentNode;\n  redirect?: string;\n  initialValues?: object;\n  onFinishUpdate?: ((values: Store) => void) | undefined;\n  buildInput?: (e: Store) => any;\n  history?: RouteComponentProps[\"history\"];\n  span?: number;\n  updateForm?: FormInstance;\n  mode?: \"update\" | \"create\";\n  onFinish?: ((values: Store) => void) | undefined;\n  label?: boolean;\n  resultName?: string;\n  checkResponse?: (response: object) => boolean;\n}\n\nexport default function GraphQLForm({\n  resultName = \"response\",\n  history,\n  mutation,\n  buildInput = (e) => e,\n  inputs,\n  onFinishUpdate,\n  redirect = \"\",\n  title,\n  initialValues = {},\n  span = 12,\n  updateForm,\n  onFinish,\n  label = false,\n  checkResponse = (d) => _.get(d, `data.${resultName}.ok`, false),\n}: Props): ReactElement {\n  const [doMutation] = useMutation(mutation);\n  const [form] = useForm();\n  const [clear, setClear] = useState(false);\n  const handleOnFinish = (values: Store) => {\n    const newInput = buildInput(values);\n\n    doMutation({ variables: { input: newInput } })\n      .then((d) => {\n        if (checkResponse && checkResponse(d)) {\n          // if (!clear) history && history.push(redirect);\n          // else {\n          //form.resetFields();\n          // }\n          message.success(\"lment cr avec succs\");\n        }\n        // if (_.get(d, `data.${resultName}.ok`, false)) {\n\n        // }\n        else {\n          if (_.get(d, `data.${resultName}.errors`, false))\n            message.error(\n              `Une erreur est survenue dans les champs suivant : ${_.get(\n                d,\n                `data.${resultName}.errors`,\n                []\n              ).reduce((acc: any, curr: any) => `${acc}  ${curr.field}`, \"\")}`\n            );\n          console.log(_.get(d, `data.${resultName}.errors`));\n        }\n      })\n      .catch((e) => {\n        message.error(`Une erreur est survenue`);\n        console.log(e);\n      });\n  };\n  return (\n    <div>\n      <RLForm\n        title=\"Create Person\"\n        form={form}\n        //action={() => console.log(\"dz\")}\n        mode=\"create\"\n        span={span}\n        label={label}\n        inputs={inputs}\n        onFinish={(e) => handleOnFinish(e)}\n        initialValues={initialValues}\n      />\n      <Row gutter={16} justify=\"end\">\n        <Col span={3}>\n          <Button\n            onClick={() => {\n              form.resetFields();\n              //setClear(true);\n              //form.submit();\n            }}\n            htmlType=\"button\"\n            style={{ width: \"100%\" }}\n            type=\"default\"\n          >\n            supprimer\n          </Button>\n        </Col>\n        <Col span={3}>\n          <Button\n            onClick={() => {\n              // setClear(false);\n              form.submit();\n            }}\n            style={{ width: \"100%\" }}\n            type=\"primary\"\n          >\n            engregistrer\n          </Button>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n","import * as queryBuilder from \"gql-query-builder\";\nimport gql from \"graphql-tag\";\nimport _ from \"lodash\";\nimport { DocumentNode } from \"graphql\";\n\nexport const deleteMutation = (operation: string) => {\n  return gql(\n    queryBuilder.mutation({\n      operation,\n      variables: { id: { type: \"ID!\" } },\n      fields: [\"ok\", { errors: [\"field\", \"messages\"] }],\n    }).query\n  );\n};\n\n/**\n * generate Graphql mutation.\n * @author Milia\n * @param {string} operation - The name of the mutation ex: create_client.\n * @param {string} author - The type of mutation ex : CreateGenericClient!.\n * @param {string} input  The input object name ex: new_client @default \"input\".\n */\nexport const createMutation = (\n  operation: string,\n  type: string,\n  input = \"input\"\n) => {\n  return gql(\n    queryBuilder.mutation({\n      operation: `response:${operation}`,\n      variables: { [input]: { type } },\n      fields: [\"ok\", { errors: [\"field\", \"messages\"] }],\n    }).query\n  );\n};\nexport const simple_mutation = (\n  operation: string,\n  type: string,\n  input: string = \"input\"\n) => {\n  return gql(\n    queryBuilder.mutation({\n      operation: `response:${operation}`,\n      variables: { [input]: { type } },\n      // fields: [\"ok\", { errors: [\"field\", \"messages\"] }]\n    }).query\n  );\n};\nexport const createNestedMutation = (\n  operation: string,\n  type: string,\n  response: string,\n  input: string = \"input\"\n) => {\n  return gql(\n    queryBuilder.mutation({\n      operation: `response:${operation}`,\n      variables: { [input]: { type } },\n      fields: [{ [`ok:${response}`]: [\"id\"] }],\n    }).query\n  );\n};\nexport const createNestedUpdateMutation = (\n  operation: string,\n  type: string,\n  response: string,\n  input = \"input\"\n) => {\n  return gql(\n    queryBuilder.mutation({\n      operation: `response:${operation}`,\n      variables: { [input]: { type }, id: { type: \"ID!\" } },\n      fields: [{ [`ok:${response}`]: [\"id\"] }],\n    }).query\n  );\n};\n\nexport const simple_query = (\n  operation: string,\n  fields: (string | object)[] = [\"designation\"],\n  variables?: object\n): DocumentNode => {\n  return gql(\n    queryBuilder.query({\n      operation: `response:${operation}`,\n      variables,\n      fields: [\"id\", ...fields],\n    }).query\n  );\n};\n","import React from \"react\";\nimport { ColumnsType } from \"antd/lib/table\";\nimport { FieldType, FormInputType } from \"../../../lib/form/types\";\nimport _ from \"lodash\";\nimport { Button } from \"antd\";\nimport { simple_query } from \"../../../lib/utils\";\nexport const contactColumns: ColumnsType = [\n  {\n    dataIndex: \"nom\",\n    title: \"Nom\",\n  },\n  {\n    dataIndex: \"prenom\",\n    title: \"Prenom\",\n  },\n  {\n    dataIndex: \"fonction\",\n    title: \"Fonction\",\n  },\n  {\n    dataIndex: \"email\",\n    title: \"Email\",\n  },\n  {\n    dataIndex: \"phone\",\n    title: \"Tlphone\",\n  },\n  {\n    title: \"Client\",\n    dataIndex: \"client\",\n    render: (b) => (\n      <Button type=\"primary\" size=\"small\" onClick={() => alert(b.id)}>\n        {_.get(b, \"raison_social\", \"undefinit\")}\n      </Button>\n    ),\n  },\n];\nexport const contactInput: FormInputType = {\n  title: \"Nouveau Contacts\",\n\n  // graphql: graphqlName,\n  fields: [\n    {\n      title: \"Nom\",\n      name: \"nom\",\n      properties: { type: \"text\" },\n      required: true,\n    },\n    {\n      title: \"Prenom\",\n      name: \"prenom\",\n      properties: { type: \"text\" },\n      required: true,\n    },\n    {\n      title: \"Email\",\n      name: \"email\",\n      properties: { type: \"email\" },\n    },\n    {\n      title: \"Tlphone\",\n      name: \"phone\",\n      properties: { type: \"text\" },\n    },\n\n    {\n      title: \"Fonction\",\n      name: \"fonction\",\n      properties: { type: \"text\" },\n    },\n  ],\n};\nexport const contactFilters: FieldType[] = [];\n\nexport const inputContactWithClient: FormInputType = {\n  ...contactInput,\n  fields: [\n    ...contactInput.fields,\n    {\n      name: \"client\",\n      title: \"Client\",\n      properties: {\n        type: \"select\",\n        show: \"raison_social\",\n        query: simple_query(\"clients\", [\"raison_social\"]),\n      },\n      required: true,\n      // get: \"client.id\",\n    },\n  ],\n};\n","import React from \"react\";\nimport { simple_query } from \"../../lib/utils\";\nimport { ColumnsType } from \"antd/lib/table\";\nimport { FieldType, FormInputType } from \"../../lib/form/types\";\nimport { Button } from \"antd\";\nimport _ from \"lodash\";\nimport { contactInput } from \"./contact/info\";\n\nexport const clientColumns: ColumnsType = [\n  { title: \"Raison Social\", dataIndex: \"raison_social\" },\n  { title: \"Code Client\", dataIndex: \"code_client\" },\n  { title: \"address\", dataIndex: \"address\" },\n  { title: \"email\", dataIndex: \"email\" },\n  { title: \"Telephone\", dataIndex: \"phone\" },\n  { title: \"Fix\", dataIndex: \"fix\" },\n  { title: \"Fax\", dataIndex: \"fax\" },\n  { title: \"NIF\", dataIndex: \"NIF\" },\n  { title: \"TIN\", dataIndex: \"TIN\" },\n  { title: \"RC\", dataIndex: \"RC\" },\n  // {\n  //   title: \"Barem\",\n  //   dataIndex: \"barem\",\n  //   render: (b) => (\n  //     <Button type=\"primary\" size=\"small\" onClick={() => alert(b.id)}>\n  //       {_.get(b, \"designation\", \"undefinit\")}\n  //     </Button>\n  //   ),\n  // },\n];\nexport const clientInput: FormInputType = {\n  title: \"Information Gnrale\",\n  fields: [\n    {\n      name: \"raison_social\",\n      title: \"Raison_social\",\n      required: true,\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"code_client\",\n      title: \"Code Client\",\n      required: true,\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"address\",\n      title: \"Adresse\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"phone\",\n      title: \"Mobile\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"fix\",\n      title: \"Fix\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"fax\",\n      title: \"Fax\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"email\",\n      title: \"Email\",\n      properties: { type: \"email\" },\n    },\n    {\n      name: \"NIF\",\n      title: \"NIF\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"TIN\",\n      title: \"TIN\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"RC\",\n      title: \"N registre commercial\",\n      properties: { type: \"text\" },\n    },\n    // {\n    //   name: \"barem\",\n    //   title: \"Barem\",\n    //   query: simple_query(\"barems\"),\n    //   get: \"barem.id\",\n    //   type: \"select\",\n    // },\n  ],\n};\nexport const clientFilters: FieldType[] = [\n  {\n    title: \"Raison Social\",\n    name: \"raison_social\",\n    properties: { type: \"text\" },\n  },\n  { title: \"Code Client\", name: \"code_client\", properties: { type: \"text\" } },\n];\n\nexport const inputClientWithContact: FormInputType = {\n  ...clientInput,\n\n  fields: [\n    ...clientInput.fields,\n    {\n      title: \"Contacts\",\n      name: \"contact\",\n      properties: { type: \"multiple\", fields: contactInput.fields },\n    },\n  ],\n};\n\nexport const inputClientWithContactCreate: FormInputType = {\n  ...clientInput,\n  fields: [\n    ...clientInput.fields,\n    {\n      title: \"Contacts\",\n      name: \"contacts_add\",\n      properties: { type: \"multiple\", fields: contactInput.fields },\n    },\n  ],\n};\n","import { useState } from \"react\";\n\nexport interface PaginationType {\n  rowPerPage: number;\n  page: number;\n  onRowPerPageChange: (rowPerPage: number) => void;\n  onPageChange: (rowPerPage: number) => void;\n}\n\nexport const usePagination = (\n  rows: number = 10,\n  p: number = 0\n): PaginationType => {\n  const [rowPerPage, setRowPerPage] = useState<number>(rows);\n  const [page, setPage] = useState<number>(p);\n  return {\n    rowPerPage,\n    page,\n    onRowPerPageChange: setRowPerPage,\n    onPageChange: setPage,\n  };\n};\n","import React, { ReactElement, useState } from \"react\";\nimport Table, { ColumnsType } from \"antd/lib/table\";\nimport { OperationVariables, ApolloQueryResult } from \"apollo-boost\";\nimport { ExecutionResult } from \"graphql\";\nimport { Button, Dropdown, Menu, Modal, Select, Drawer } from \"antd\";\nimport {\n  EditFilled as Edit,\n  DeleteOutlined as Delete,\n  MoreOutlined as More,\n} from \"@ant-design/icons\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { PaginationType } from \"./utils\";\nimport confirm from \"antd/lib/modal/confirm\";\nimport { ObservableQueryFields } from \"@apollo/react-common/lib/types/types\";\nimport _ from \"lodash\";\nimport { RLForm } from \"../form\";\nimport { FormInputType } from \"../form/types\";\nimport { Store } from \"antd/lib/form/interface\";\nimport { useForm } from \"antd/lib/form/util\";\nimport { extractForeignKey } from \"../form/utils\";\nimport UpdateModal from \"./UpdateModal\";\nimport useModal from \"antd/lib/modal/useModal\";\n\nexport type ActionsType = {\n  title: string;\n  icon?: any;\n  onClick: (item: any) => void;\n};\ninterface Props {\n  onDelete?: (id: string | number) => void;\n  onUpdate?: (values: Store) => void;\n  data: object[];\n  columns: ColumnsType<object>;\n  actions?: ActionsType[];\n  loading?: boolean;\n  updateColumn?: boolean;\n  deleteColumn?: boolean;\n  isUpdatable?: (e: any) => boolean;\n  isDeletable?: (e: any) => boolean;\n  updateLink?: string;\n  history?: RouteComponentProps[\"history\"];\n  refetch?: () => Promise<ApolloQueryResult<any>> | void;\n  pagination: PaginationType;\n  fetchMore?: (v: any) => void;\n  title?: string;\n  fetchMoreData?: (rowpage: number, page: number) => void;\n  count: number;\n  updateInputs?: FormInputType;\n  onSelect?: React.Dispatch<React.SetStateAction<any>>;\n}\n\n/**\n *\n * Table to render data with delete and update features\n */\n\nvar Dialog = require(\"rc-dialog\");\n\nexport default function RLTable({\n  data = [],\n  onDelete,\n  onSelect,\n  onUpdate,\n  history,\n  loading,\n  actions = [],\n  columns,\n  updateColumn = true,\n  deleteColumn = true,\n  isUpdatable = () => true,\n  isDeletable = () => true,\n  updateLink,\n  refetch = () => {},\n  pagination,\n  fetchMoreData,\n  title,\n  count,\n  updateInputs,\n}: Props): ReactElement {\n  const [selected, setSelected] = useState<any>({});\n  const [visible, setVisible] = useState(false);\n  const [updateForm] = useForm();\n  const allColumns: ColumnsType<object> = [...columns];\n  const { onPageChange, onRowPerPageChange, page, rowPerPage } = pagination;\n  const showDeleteConfirm = (item: { id: string }) => {\n    confirm({\n      title: \"Voulez-vous supprimer cet objet?\",\n      content: _.get(item, \"designation\", \"\"),\n      okText: \"supprimer\",\n\n      cancelText: \"annuler\",\n      onOk() {\n        onDelete && onDelete(item.id);\n        //if (graphql.delete)\n        // onDelete &&\n        //   onDelete({ variables: { id: item.id } })\n        //     .then((d: any) => {\n        //       refetch();\n        //       onPageChange(0);\n        //     })\n        //     .catch((e) => {\n        //       console.log(e);\n        //       alert(\"operation echoue\");\n        //     });\n        //else alert(\"cette fonctionalit est desactiver par le devloppeur\");\n      },\n    });\n  };\n  if (updateColumn)\n    allColumns.push({\n      title: \"modifier\",\n      render: (e) =>\n        isUpdatable(e) ? (\n          <Button\n            icon={<Edit />}\n            onClick={() => {\n              if (updateLink) history && history.push(updateLink + `/${e.id}`);\n              else {\n                updateForm.resetFields();\n                updateForm.setFieldsValue(selected);\n                setSelected(e);\n                onSelect && onSelect(e);\n                setVisible(true);\n              }\n            }}\n          />\n        ) : null,\n      width: 80,\n      align: \"center\",\n    });\n  if (deleteColumn)\n    allColumns.push({\n      title: \"supprimer\",\n      render: (e: any) => {\n        return isDeletable(e) ? (\n          <Button\n            icon={<Delete />}\n            danger\n            onClick={() => {\n              showDeleteConfirm(e);\n            }}\n          />\n        ) : null;\n      },\n      width: 80,\n      align: \"center\",\n    });\n  if (actions.length > 0)\n    allColumns.push({\n      title: \"actions\",\n      render: (i) => (\n        <Dropdown\n          overlay={\n            <Menu theme=\"dark\">\n              {actions.map((a) => (\n                <Menu.Item\n                  style={{\n                    alignItems: \"center\",\n                    color: \"white\",\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    width: 130,\n                  }}\n                  key=\"1\"\n                  onClick={() => a.onClick(i)}\n                >\n                  {a.title}\n                  <a.icon></a.icon>\n                </Menu.Item>\n              ))}\n            </Menu>\n          }\n        >\n          <Button size=\"small\" type=\"ghost\" icon={<More />}></Button>\n        </Dropdown>\n      ),\n      width: 40,\n      align: \"center\",\n    });\n  // console.log(\n  //   data\n  //     .slice(page * rowPerPage, page * rowPerPage + rowPerPage)\n  //     .map((d: any) => d.id)\n  // );\n  // console.log(page * rowPerPage, page * rowPerPage + rowPerPage);\n  // console.log(data);\n\n  return (\n    <div>\n      {updateInputs ? (\n        <Modal\n          key={selected}\n          afterClose={() => {\n            setVisible(false);\n            updateForm.resetFields();\n            setSelected({});\n            onSelect && onSelect({});\n            Modal.destroyAll();\n          }}\n          destroyOnClose\n          visible={visible}\n          onCancel={() => {\n            setVisible(false);\n            updateForm.resetFields();\n            setSelected({});\n            onSelect && onSelect({});\n            Modal.destroyAll();\n          }}\n          title={updateInputs.title}\n          onOk={() => {\n            updateForm.validateFields().then((values) => {\n              onUpdate && onUpdate(values);\n              updateForm.resetFields();\n            });\n          }}\n        >\n          <RLForm\n            initialValues={selected}\n            //form={updateForm}\n            card={false}\n            //initialValues={selected}\n            inputs={updateInputs}\n            title=\"\"\n            onFinish={(e) => {\n              console.log();\n            }}\n          ></RLForm>\n        </Modal>\n      ) : // <UpdateModal\n      //   visible={visible}\n      //   updateForm={updateForm}\n      //   updateInputs={updateInputs}\n      //   onClose={() => {\n      //     setVisible(false);\n      //   }}\n      //   onSelect={onSelect}\n      //   selected={selected}\n      //   onUpdate={onUpdate}\n      // />\n      null}\n      <Table\n        rowKey=\"id\"\n        //expandable={expand}\n        loading={loading}\n        columns={allColumns}\n        dataSource={data.slice(\n          page * rowPerPage,\n          page * rowPerPage + rowPerPage\n        )}\n        // pagination={{\n        //   total: count,\n        //   showSizeChanger: true,\n        //   pageSize: rowPerPage,\n        //   pageSizeOptions: [\"10\", \"20\", \"40\"],\n        //   onShowSizeChange: (page, next) => {\n        //     onPageChange(0);\n        //     onRowPerPageChange(next);\n\n        //     // fetchMoreData && fetchMoreData(rowPerPage, page);\n        //   },\n\n        //   onChange: (p, rowpage?: number) => {\n        //     fetchMoreData && fetchMoreData(rowPerPage, p);\n        //     onPageChange(p - 1);\n        //   },\n        // }}\n        pagination={false}\n        bordered\n        title={() => <div>{title}</div>}\n        size=\"middle\"\n      />\n      <br />\n      <div style={{ textAlign: \"right\" }}>\n        <Button.Group>\n          <Button\n            disabled={page === 0}\n            size=\"small\"\n            onClick={() => onPageChange(page - 1)}\n          >\n            {\"<\"}\n          </Button>\n          <div style={{ width: 5 }}> </div>\n          <Button\n            disabled={\n              data.length == count &&\n              Math.floor(data.length / rowPerPage) == page\n            }\n            size=\"small\"\n            onClick={() => {\n              onPageChange(page + 1);\n              fetchMoreData && fetchMoreData(rowPerPage, page);\n            }}\n          >\n            {\" \"}\n            {\">\"}{\" \"}\n          </Button>\n        </Button.Group>{\" \"}\n        <Select\n          onChange={(v) => {\n            onRowPerPageChange(v);\n            onPageChange(0);\n          }}\n          value={pagination.rowPerPage}\n          size=\"small\"\n        >\n          <Select.Option value={10}>10 / page</Select.Option>\n          <Select.Option value={20}>20 / page</Select.Option>\n          <Select.Option value={40}>40 / page</Select.Option>\n        </Select>\n      </div>\n    </div>\n  );\n}\n","import React, { ReactElement, useState } from \"react\";\nimport {\n  Modal,\n  Row,\n  Checkbox,\n  Col,\n  Divider,\n  Radio,\n  Form,\n  Button,\n  Input,\n} from \"antd\";\nimport axios from \"axios\";\nimport { type } from \"os\";\nimport { OperationVariables } from \"apollo-boost\";\nimport { stringify } from \"querystring\";\nimport { serverBaseURL } from \"../../config\";\n\nexport interface ExportProps {\n  fields?: { name: string | undefined; title: string | undefined }[];\n  mode?: \"all\" | \"page\" | \"filterd\";\n  visible: boolean;\n  onClose: () => void;\n  page?: number;\n  rowPerPage?: number;\n  variables?: OperationVariables;\n  filename?: string;\n  url?: string;\n  appName: string;\n  modelName: string;\n}\n\nexport default function Export({\n  onClose,\n  visible,\n  fields,\n  page = 0,\n  rowPerPage,\n  variables,\n  filename = \"data\",\n  url = \"export/xls\",\n  appName,\n  modelName,\n}: ExportProps): ReactElement {\n  const [checked, setChecked] = useState<\n    { name: string | undefined; title: string | undefined }[]\n  >(fields ? fields.map((f) => ({ ...f })) : []);\n\n  const [items, setItems] = useState(\"all\");\n  const [selection, setSelection] = useState(\"all\");\n  const [file, setFilename] = useState(filename);\n  return (\n    <form action={`${serverBaseURL}/${url}`} id=\"form\" method=\"get\">\n      <input hidden name=\"items\" value={items} />\n      <input hidden name=\"selection\" value={selection} />\n      <input hidden name=\"variables\" value={JSON.stringify(variables)} />\n      <input hidden name=\"filename\" value={file} />\n      <input hidden name=\"app_name\" value={appName} />\n      <input hidden name=\"model_name\" value={modelName} />\n      <input\n        hidden\n        name=\"fields\"\n        value={checked.map((f) => f.name).toString()}\n      />\n      <input\n        hidden\n        name=\"headers\"\n        value={checked.map((f) => f.title).toString()}\n      />\n      {/* <input hidden name=\"helpers\" value={JSON.stringify(checked)} /> */}\n\n      <input hidden name=\"page\" value={page} />\n      <input hidden name=\"rowPerPage\" value={rowPerPage} />\n      <Modal\n        width={800}\n        destroyOnClose\n        visible={visible}\n        footer={\n          <div>\n            <Button\n              onClick={() => {\n                onClose();\n              }}\n            >\n              fermer\n            </Button>\n            <Button type=\"primary\" htmlType=\"submit\" form=\"form\">\n              exporter\n            </Button>\n          </div>\n        }\n        okText=\"exporter\"\n        cancelText=\"fermer\"\n        onCancel={() => onClose()}\n        title=\"Exporter\"\n      >\n        <Row gutter={[10, 10]}>\n          <Col span={24}>\n            <h3>\n              <u>Colonne  exporter</u>\n            </h3>\n          </Col>\n          {fields?.map((f) => (\n            <Col span={8}>\n              <Checkbox\n                checked={checked.findIndex((i) => i.name == f.name) !== -1}\n                onChange={(e) => {\n                  if (e.target.checked && f.name) setChecked([...checked, f]);\n                  else if (!e.target.checked && f.name)\n                    setChecked(checked.filter((c) => c.name !== f.name));\n                }}\n              >\n                {f.title}\n              </Checkbox>\n            </Col>\n          ))}\n        </Row>\n        <br />\n        <Row>\n          <Col span={24}>\n            <h3>\n              <u>Nombre des items</u>\n            </h3>\n          </Col>\n          <hr />{\" \"}\n          <Col span={24}>\n            <Radio.Group\n              value={items}\n              onChange={(v) => setItems(v.target.value)}\n            >\n              <Radio value=\"all\">Tout</Radio>\n              <Radio value=\"displayed\">Elements affichs</Radio>\n            </Radio.Group>\n          </Col>\n        </Row>\n        <br />\n        <Row>\n          <Col span={24}>\n            <h3>\n              <u>Selection</u>\n            </h3>\n          </Col>\n          <hr />{\" \"}\n          <Col span={24}>\n            <Radio.Group\n              value={selection}\n              onChange={(v) => setSelection(v.target.value)}\n            >\n              <Radio value=\"all\">Tout</Radio>\n              <Radio value=\"filter\">Resultats de la recherce</Radio>\n            </Radio.Group>\n          </Col>\n        </Row>\n        <br />\n        <Row>\n          <Form.Item label=\"Nom du fichier (Excel)\">\n            <Input\n              placeholder=\"nom du fichier\"\n              value={file}\n              onChange={(e) => setFilename(e.target.value)}\n            />{\" \"}\n          </Form.Item>{\" \"}\n        </Row>\n      </Modal>\n    </form>\n  );\n}\n","import React, { ReactElement, useState, useEffect } from \"react\";\nimport { ColumnsType, ColumnType } from \"antd/lib/table\";\nimport { Table, Modal, Row, Col, Button, message, Select } from \"antd\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { DocumentNode } from \"graphql\";\nimport { usePagination } from \"./utils\";\nimport { OperationVariables } from \"apollo-boost\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport {\n  EditFilled as Edit,\n  DeleteOutlined as Delete,\n} from \"@ant-design/icons\";\n\nimport {\n  PlusOutlined as ADD,\n  UploadOutlined as ExportOutlined,\n} from \"@ant-design/icons\";\n\nimport _ from \"lodash\";\nimport RLTable, { ActionsType } from \"./RLTable\";\nimport { FormInputType } from \"../form/types\";\nimport { RLForm } from \"../form\";\nimport { Store } from \"antd/lib/form/interface\";\nimport Export from \"./Export\";\n\nexport interface QueryType {\n  all: DocumentNode;\n  delete?: DocumentNode | any;\n  update?: DocumentNode | any;\n}\nconst { confirm } = Modal;\nexport interface GraphQLTableProps {\n  title?: string;\n  columns: ColumnsType;\n  graphql: QueryType;\n  createLink?: string;\n  resultTitle?: string;\n  updateLink?: string;\n  nested?: boolean;\n  isUpdatable?: (e: any) => boolean;\n  isDeletable?: (e: any) => boolean;\n  expand?: any;\n  actions?: ActionsType[];\n  updateColumn?: boolean;\n  deleteColumn?: boolean;\n  history?: RouteComponentProps[\"history\"];\n  initVariables?: OperationVariables;\n  // filters?: any[];\n  updateInputs?: FormInputType;\n  variables?: OperationVariables;\n  exportUrl?: string;\n  expprtFileName?: string;\n  appName?: string;\n  modelName?: string;\n  // onVariablesChange?: (e: any) => void;\n}\n\nexport const TableContext = React.createContext({});\nconst TableProvider = TableContext.Provider;\nexport const TableConsumer = TableContext.Consumer;\n\nconst GraphQLTable: React.FC<GraphQLTableProps> = ({\n  //********* Graphql ********* */\n  graphql,\n  resultTitle = \"response\",\n  variables,\n  initVariables = {},\n  // onVariablesChange,\n  // filters,\n  /*************Table*************/\n  title,\n  columns,\n  isDeletable = () => true,\n  isUpdatable = () => true,\n  actions = [],\n  createLink = \"\",\n  deleteColumn = true,\n  expand,\n  updateColumn = true,\n  /**************** Update *************/\n  updateInputs,\n  updateLink,\n  nested,\n  /*************Utils **************** */\n  history,\n  /*****exportation */\n  exportUrl,\n  expprtFileName,\n  appName,\n  modelName,\n}) => {\n  //const [variables, setVariables] = useState<OperationVariables>(initVariables);\n  const [selected, setSelected] = useState<any>({});\n  const [visible, setVisible] = useState(false);\n  // const onVariablesChange = (value: any) => {\n  //   setVariables({ ...variables, ...value });\n  // };\n\n  const pagination = usePagination();\n\n  const { data, loading, fetchMore, refetch } = useQuery(graphql.all, {\n    variables: {\n      ...variables,\n      limit: pagination.rowPerPage,\n      offset: 0,\n      ...initVariables,\n    },\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  let deleteItem: any;\n  let updateItem: any;\n  try {\n    [deleteItem] = useMutation(graphql.delete);\n  } catch (e) {\n    //console.log(\"no delete feature available \");\n  }\n  try {\n    [updateItem] = useMutation(graphql.update);\n  } catch (e) {\n    //console.log(\"no delete feature available \");\n  }\n  useEffect(() => {\n    pagination.onPageChange(0);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [variables]);\n  const fetchMoreData = (rowpage: number, page: number) => {\n    fetchMore({\n      variables: {\n        offset: data && data.response.results.length,\n        limit: rowpage,\n      },\n      updateQuery: (prev: any, { fetchMoreResult }) => {\n        if (!fetchMoreResult) return prev;\n        return Object.assign({}, prev, {\n          response: {\n            results: [\n              ...prev.response.results,\n              ...fetchMoreResult.response.results,\n            ],\n          },\n        });\n      },\n    });\n  };\n  // const showDeleteConfirm = (item: { id: string }) => {\n  //   confirm({\n  //     title: \"Voulez-vous supprimer cet objet?\",\n  //     content: _.get(item, \"designation\", \"\"),\n  //     okText: \"supprimer\",\n  //     okType: \"danger\",\n  //     cancelText: \"annuler\",\n  //     onOk() {\n  //       if (graphql.delete)\n  //         deleteItem({ variables: { id: item.id } }).then((d: any) => {\n  //           refetch();\n  //           onPageChange(0);\n  //         });\n  //       else alert(\"cette fonctionalit est desactiver par le devloppeur\");\n  //     },\n  //   });\n  // };\n  const onDelete = (id: string | number) => {\n    deleteItem({ variables: { id } }).then((d: any) => {\n      refetch();\n    });\n  };\n  const onUpdate = (values: Store) => {\n    const variables = nested\n      ? { id: selected.id, input: { ...values } }\n      : { input: { ...values, id: selected.id } };\n\n    updateItem({ variables })\n      .then((d: any) => {\n        message.success(\"Operation avec succe\");\n        refetch();\n      })\n      .catch((e: any) => console.log(e));\n  };\n  const [exports, setExport] = useState(false);\n\n  return (\n    <TableContext.Provider value={{ refetch }}>\n      {appName && modelName ? (\n        <Export\n          appName={appName}\n          modelName={modelName}\n          filename={expprtFileName}\n          url={exportUrl}\n          variables={variables}\n          fields={columns.map((c: ColumnType<object>) => ({\n            name: c.dataIndex?.toString(),\n            title: c.title?.toString(),\n          }))}\n          visible={exports}\n          onClose={() => setExport(!exports)}\n          page={pagination.page}\n          rowPerPage={pagination.rowPerPage}\n        />\n      ) : null}\n\n      <Row justify=\"end\" gutter={[16, 10]}>\n        {appName && modelName ? (\n          <Col md={12} lg={3} xs={24}>\n            {/* <form action={`${server}/park/export/`} method=\"get\" target=\"_blank\"> */}\n            <Button\n              htmlType=\"button\"\n              icon={<ExportOutlined />}\n              danger\n              // shape=\"round\"\n              style={{ width: \"100%\" }}\n              onClick={() => setExport(true)}\n            >\n              exporter\n            </Button>\n            {/* </form> */}\n          </Col>\n        ) : null}\n        <Col md={12} lg={3} xs={24}>\n          <Button\n            style={{\n              width: \"100%\",\n              // backgroundColor: \"#5bddc0\",\n              borderWidth: 0,\n              // color: \"white\",\n              padding: 0,\n            }}\n            type=\"primary\"\n            icon={<ADD />}\n            onClick={() => history && history.push(createLink)}\n          >\n            nouveau\n          </Button>\n        </Col>\n      </Row>\n\n      <br />\n      <RLTable\n        onSelect={setSelected}\n        onUpdate={onUpdate}\n        fetchMoreData={fetchMoreData}\n        title={title}\n        pagination={pagination}\n        data={_.get(data, `response.results`, [])}\n        count={_.get(data, `${resultTitle}.totalCount`, 0)}\n        columns={columns}\n        actions={actions}\n        isDeletable={isDeletable}\n        isUpdatable={isUpdatable}\n        history={history}\n        deleteColumn={deleteColumn}\n        loading={loading}\n        onDelete={onDelete}\n        //onUpdate={}\n        refetch={refetch}\n        fetchMore={fetchMore}\n        updateColumn={updateColumn}\n        updateLink={updateLink}\n        updateInputs={updateInputs}\n      />\n    </TableContext.Provider>\n  );\n};\nexport default GraphQLTable;\n","import React, { ReactElement } from \"react\";\nimport { Row, Col } from \"antd\";\nimport { InputFactory } from \"../inputs\";\nimport Form, { FormInstance } from \"antd/lib/form\";\nimport { InputFieldType, InputUnionType } from \"../types/FilterTypes\";\nimport { FieldType } from \"../form/types\";\n\ninterface ViewToolbarProps {\n  filters?: FieldType[];\n  variables?: any[];\n  onVariablesChange: (e: any) => void;\n  form?: FormInstance;\n}\n\nexport default function ViewToolbar({\n  filters,\n  variables,\n  onVariablesChange,\n  form,\n}: ViewToolbarProps): ReactElement {\n  return (\n    <Form form={form}>\n      <Row gutter={[16, 16]}>\n        {filters?.map((f, index: number) => (\n          <Col span={f.span || 4}>\n            <InputFactory\n              key={index}\n              fieldDef={f}\n              label={false}\n              onChange={onVariablesChange}\n            />\n          </Col>\n        ))}\n      </Row>\n    </Form>\n  );\n}\n","import React, { ReactElement, useState } from \"react\";\nimport { ColumnsType } from \"antd/lib/table\";\nimport GraphQLTable, {\n  GraphQLTableProps,\n  QueryType,\n} from \"../table/GraphQLTable\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { OperationVariables } from \"apollo-boost\";\nimport { ViewToolbar } from \".\";\nimport { useForm } from \"antd/lib/form/util\";\nimport { InputFieldType, InputUnionType } from \"../types/FilterTypes\";\nimport { FieldType, FormInputType } from \"../form/types\";\nimport { ActionsType } from \"../table/RLTable\";\n\ninterface Props {\n  title?: string;\n  columns: ColumnsType;\n  graphql: QueryType;\n  createLink?: string;\n  updateLink?: string;\n  nested?: boolean;\n  isUpdatable?: () => boolean;\n  isDeletable?: () => boolean;\n  expand?: any;\n  actions?: ActionsType[];\n  updateColumn?: boolean;\n  deleteColumn?: boolean;\n  history?: RouteComponentProps[\"history\"];\n  initVariables?: OperationVariables;\n  filters?: FieldType[];\n  updateInputs?: FormInputType;\n  resultTitle?: string;\n  exportUrl?: string;\n  expprtFileName?: string;\n  appName?: string;\n  modelName?: string;\n}\n\nexport default function GraphQLTableView({\n  columns,\n  graphql,\n  resultTitle = \"response\",\n  filters,\n  updateColumn = true,\n  deleteColumn = true,\n  isUpdatable = () => true,\n  isDeletable = () => true,\n  actions = [],\n  createLink = \"\",\n  expand,\n  nested,\n  title,\n  updateLink,\n  history,\n  initVariables = {},\n  updateInputs,\n  exportUrl,\n  expprtFileName,\n  appName,\n  modelName,\n}: Props): ReactElement {\n  const { delete: deleteMutation, all, update } = graphql;\n  const [variables, setVariables] = useState<OperationVariables>(initVariables);\n  //const [filtersForm] = useForm();\n  const onVariablesChange = (value: any) => {\n    setVariables({ ...variables, ...value });\n  };\n\n  return (\n    <div>\n      <ViewToolbar\n        filters={filters}\n        onVariablesChange={onVariablesChange}\n        // form={filtersForm}\n      />\n\n      <GraphQLTable\n        exportUrl={exportUrl}\n        expprtFileName={expprtFileName}\n        actions={actions}\n        title={title}\n        columns={columns}\n        graphql={{ all, delete: deleteMutation, update }}\n        variables={variables}\n        createLink={createLink}\n        deleteColumn={deleteColumn}\n        expand={expand}\n        history={history}\n        initVariables={initVariables}\n        isDeletable={isDeletable}\n        isUpdatable={isUpdatable}\n        nested={nested}\n        resultTitle={resultTitle}\n        updateColumn={updateColumn}\n        updateLink={updateLink}\n        updateInputs={updateInputs}\n        appName={appName}\n        modelName={modelName}\n        //onVariableChange={onVariablesChange}\n      ></GraphQLTable>\n    </div>\n  );\n}\n","import gql from \"graphql-tag\";\n\nexport const ALL_CONTACTS = gql`\n  query fetchContacts(\n    $nom: String\n    $prenom: String\n    $phone: String\n    $email: String\n    $client: ID\n    $limit: Int\n    $offset: Int\n  ) {\n    response: all_contacts(\n      nom__icontains: $nom\n      prenom__icontains: $prenom\n      email__icontains: $email\n      phone__icontains: $phone\n      client: $client\n    ) {\n      results(limit: $limit, offset: $offset) {\n        id\n        nom\n        prenom\n        fonction\n        email\n        phone\n        client {\n          raison_social\n          id\n        }\n      }\n      totalCount\n    }\n  }\n`;\n","import React from \"react\";\n\nimport { ColumnsType } from \"antd/lib/table\";\nimport { FieldType, FormInputType } from \"../../lib/form/types\";\nimport { Tag } from \"antd\";\nimport { simple_query } from \"../../lib/utils\";\nexport const parkColumns: ColumnsType = [\n  {\n    title: \"Designation\",\n    dataIndex: \"model\",\n    render: (m) => <div>{m && m.designation}</div>,\n  },\n  {\n    title: \"Marque\",\n    dataIndex: \"marque\",\n    render: (m) => <Tag color=\"green\">{m}</Tag>,\n  },\n  {\n    title: \"Matricule\",\n    dataIndex: \"matricule\",\n  },\n  {\n    title: \"Nature\",\n    dataIndex: \"nature\",\n  },\n  {\n    title: \"Anne\",\n    dataIndex: \"year\",\n    render: (y) => <Tag color=\"default\">{y}</Tag>,\n  },\n];\n\nexport const parkInputs: FormInputType = {\n  title: \"Nouvelle Vhicule\",\n  fields: [\n    {\n      name: \"model\",\n      title: \"Model\",\n      required: true,\n      properties: {\n        divider: \"engine_type.designation\",\n        type: \"select\",\n        query: simple_query(\"enginemodels\", [\n          \"designation\",\n          { engine_type: [\"designation\"] },\n        ]),\n        get: \"model.id\",\n      },\n    },\n    {\n      name: \"marque\",\n      title: \"Marque\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"matricule\",\n      required: true,\n      title: \"Matricule\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"nature\",\n      title: \"Nature\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"year\",\n      title: \"Anne\",\n      properties: { type: \"date\", picker: \"year\" },\n    },\n  ],\n  info: \"creer une nouvelle vhicule dans le park Rail Logistic\",\n};\nexport const parkUpdate: FormInputType = {\n  title: \"Mettre  jour Vhicule\",\n  fields: [\n    {\n      name: \"model\",\n      editable: false,\n      title: \"Model\",\n      required: true,\n      properties: {\n        divider: \"engine_type.designation\",\n        type: \"select\",\n        query: simple_query(\"enginemodels\", [\n          \"designation\",\n          { engine_type: [\"designation\"] },\n        ]),\n        get: \"model.id\",\n      },\n    },\n    {\n      name: \"marque\",\n      title: \"Marque\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"matricule\",\n      required: true,\n      title: \"Matricule\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"nature\",\n      title: \"Nature\",\n      properties: { type: \"text\" },\n    },\n    {\n      name: \"year\",\n      title: \"Anne\",\n      properties: { type: \"number\" },\n    },\n  ],\n  info: \"creer une nouvelle vhicule dans le park Rail Logistic\",\n};\nexport const parkFilters: FieldType[] = [\n  {\n    name: \"model\",\n    title: \"Model\",\n    span: 5,\n    properties: {\n      divider: \"engine_type.designation\",\n      type: \"select\",\n      query: simple_query(\"enginemodels\", [\n        \"designation\",\n        { engine_type: [\"designation\"] },\n      ]),\n      get: \"model.id\",\n    },\n  },\n  {\n    name: \"matricule__icontains\",\n    title: \"Matricule\",\n    properties: { type: \"text\" },\n  },\n  {\n    name: \"marque__icontains\",\n    title: \"Marque\",\n    properties: { type: \"text\" },\n  },\n\n  // {\n  //   name: \"year\",\n  //   title: \"Anne\",\n  //   properties: { type: \"number\" },\n  // },\n];\n","import gql from \"graphql-tag\";\n\nexport const ALL_ENGINES = gql`\n  query ALL_ENGINES(\n    $limit: Int\n    $offset: Int\n    $matricule__icontains: String\n    $year: Int\n    $marque__icontains: String\n    $model: ID\n  ) {\n    response: all_engines(\n      matricule__icontains: $matricule__icontains\n      marque__icontains: $marque__icontains\n      year__icontains: $year\n      model: $model\n    ) {\n      results(limit: $limit, offset: $offset) {\n        id\n        marque\n        matricule\n        model {\n          id\n          designation\n        }\n        nature\n        year\n      }\n      totalCount\n    }\n  }\n`;\n","import React, { ReactElement } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { ClientList, ClientCreate } from \"./apps/clients\";\nimport { contactList, contactCreate } from \"./apps/clients/contact\";\nimport { ParkList, ParkCreate } from \"./apps/park\";\n\ninterface RouteProps {\n  path: string;\n  component:\n    | React.ComponentType<RouteComponentProps<any>>\n    | React.ComponentType<any>;\n}\n\nexport const routes: RouteProps[] = [\n  {\n    component: ClientList,\n    path: \"/clients/list\",\n  },\n  {\n    component: ClientCreate,\n    path: \"/clients/new\",\n  },\n  {\n    path: \"/clients/contacts/list\",\n    component: contactList,\n  },\n  {\n    path: \"/clients/contacts/new\",\n    component: contactCreate,\n  },\n  {\n    path: \"/park/vehicules/list\",\n    component: ParkList,\n  },\n  {\n    path: \"/park/vehicules/create\",\n    component: ParkCreate,\n  },\n];\n","import React, { ReactElement } from \"react\";\nimport GraphQLTableView from \"../../lib/views/GraphQLTableView\";\nimport { FETCH_CLIENTS } from \"./graphql\";\nimport { clientColumns, clientFilters } from \"./info\";\nimport { browserHistory } from \"../../config\";\nimport { deleteMutation } from \"../../lib/utils\";\nimport { EyeFilled } from \"@ant-design/icons\";\nimport UpdateModal from \"../../lib/table/UpdateModal\";\ninterface Props {}\n\nexport default function list({}: Props): ReactElement {\n  return (\n    <div>\n      <UpdateModal />\n      {/* <GraphQLTableView\n        title=\"List des clients\"\n        history={browserHistory}\n        createLink=\"/clients/new\"\n        columns={clientColumns}\n        filters={clientFilters}\n        graphql={{\n          all: FETCH_CLIENTS,\n          delete: deleteMutation(\"delete_client\"),\n        }}\n        expprtFileName=\"clients\"\n        appName=\"clients\"\n        modelName=\"Client\"\n      /> */}\n    </div>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport GraphQLForm from \"../../lib/form/GraphQLForm\";\nimport { createNestedMutation } from \"../../lib/utils\";\nimport { browserHistory } from \"../../config\";\nimport { inputClientWithContactCreate } from \"./info\";\n\ninterface Props {}\n\nexport default function create({}: Props): ReactElement {\n  return (\n    <GraphQLForm\n      history={browserHistory}\n      span={8}\n      label\n      inputs={inputClientWithContactCreate}\n      mutation={createNestedMutation(\n        \"create_nested_client\",\n        \"CreateClientInput!\",\n        \"client\"\n      )}\n    />\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport { contactColumns as columns } from \"./info\";\nimport { contactFilters as filters } from \"./info\";\nimport { browserHistory } from \"../../../config\";\nimport GraphQLTableView from \"../../../lib/views/GraphQLTableView\";\nimport { deleteMutation, createMutation } from \"../../../lib/utils\";\nimport gql from \"graphql-tag\";\nimport { ALL_CONTACTS } from \"./graphql/queries\";\ninterface Props {}\nexport default function list({}: Props): ReactElement {\n  return (\n    <div>\n      <GraphQLTableView\n        columns={columns}\n        filters={filters}\n        createLink=\"/clients/contacts/new\"\n        actions={[]}\n        initVariables={{}}\n        deleteColumn={false}\n        updateColumn={false}\n        history={browserHistory}\n        graphql={{\n          all: ALL_CONTACTS,\n          // delete: deleteMutation(\"\"),\n          // update: createMutation(\"\", \"\"),\n        }}\n        expprtFileName=\"contacts\"\n        appName=\"clients\"\n        modelName=\"Contact\"\n      />\n    </div>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport GraphQLForm from \"../../../lib/form/GraphQLForm\";\nimport { createNestedMutation, createMutation } from \"../../../lib/utils\";\nimport { browserHistory } from \"../../../config\";\nimport { contactInput, inputContactWithClient } from \"./info\";\ninterface Props {}\nexport default function create({}: Props): ReactElement {\n  return (\n    <GraphQLForm\n      label={true}\n      span={12}\n      history={browserHistory}\n      inputs={inputContactWithClient}\n      initialValues={{}}\n      mutation={createMutation(\"create_contact\", \"ContactCreateGenericType!\")}\n    />\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport { parkColumns as columns, parkInputs, parkUpdate } from \"./info\";\nimport { parkFilters as filters } from \"./info\";\nimport { browserHistory } from \"../../config\";\nimport GraphQLTableView from \"../../lib/views/GraphQLTableView\";\nimport { deleteMutation, createMutation } from \"../../lib/utils\";\nimport gql from \"graphql-tag\";\nimport { ALL_ENGINES } from \"./graphql/queries\";\ninterface Props {}\nexport default function list({}: Props): ReactElement {\n  return (\n    <div>\n      <GraphQLTableView\n        title=\"Liste des Vhicules de Rail Logistic\"\n        columns={columns}\n        filters={filters}\n        createLink=\"/park/vehicules/create\"\n        actions={[]}\n        initVariables={{}}\n        deleteColumn={false}\n        updateColumn={true}\n        updateInputs={{\n          title: parkUpdate.title,\n          fields: parkUpdate.fields,\n        }}\n        history={browserHistory}\n        graphql={{\n          all: ALL_ENGINES,\n          delete: deleteMutation(\"delete_engine\"),\n          update: createMutation(\"update_engine\", \"EngineUpdateGenericType!\"),\n        }}\n        expprtFileName=\"Park rail logistic\"\n        appName=\"park\"\n        modelName=\"Engine\"\n      />\n    </div>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport GraphQLForm from \"../../lib/form/GraphQLForm\";\nimport { createMutation } from \"../../lib/utils\";\n\nimport { browserHistory } from \"../../config\";\nimport { parkInputs as inputs } from \"./info\";\ninterface Props {}\nexport default function create({}: Props): ReactElement {\n  return (\n    <GraphQLForm\n      label\n      buildInput={(values) => ({ ...values, year: values.year?.year() })}\n      title=\"Nouvelle Vhicule\"\n      span={12}\n      history={browserHistory}\n      inputs={inputs}\n      initialValues={{}}\n      mutation={createMutation(\"create_engine\", \"EngineCreateGenericType!\")}\n    />\n  );\n}\n","import React from \"react\";\nimport { routes } from \"../../routes\";\nimport { Layout } from \"antd\";\nimport { Switch, Route } from \"react-router-dom\";\n\nexport default function Content() {\n  return (\n    <Layout.Content\n      style={{\n        margin: \"24px 16px\",\n        padding: 24,\n        background: \"\",\n        minHeight: 280,\n      }}\n    >\n      <Switch>\n        {routes.map((r) => (\n          <Route path={r.path} component={r.component} exact></Route>\n        ))}\n      </Switch>\n    </Layout.Content>\n  );\n}\n","import { BatchHttpLink } from \"apollo-link-batch-http\";\nimport { ApolloLink } from \"apollo-boost\";\nimport { InMemoryCache, NormalizedCacheObject } from \"apollo-cache-inmemory\";\nimport ApolloClient from \"apollo-client\";\nimport { setContext } from \"apollo-link-context\";\nimport { onError } from \"apollo-link-error\";\nimport { ServerError, ServerParseError } from \"apollo-link-http-common\";\nimport { serverUrl } from \"./config\";\n\nexport const errorLink = onError(\n  ({ graphQLErrors, networkError, response }) => {\n    if (graphQLErrors)\n      graphQLErrors.map(({ message, locations, path, nodes }) => {\n        console.log(\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`\n        );\n        console.log(locations);\n      });\n    if (networkError) console.log(networkError);\n    if (\n      networkError &&\n      (networkError as ServerError).result &&\n      (networkError as ServerError).result.map\n    )\n      (networkError as ServerError).result.map((e: any) => console.log(e));\n\n    if (networkError && (networkError as ServerError).statusCode === 401) {\n      // remove cached token on 401 from the server\n      // window.location.replace('/login');\n    }\n  }\n);\n// Creating the link to the graphql server\nconst defaultOptions = {\n  watchQuery: {\n    fetchPolicy: \"no-cache\",\n    errorPolicy: \"ignore\",\n  },\n\n  query: {\n    fetchPolicy: \"no-cache\",\n    errorPolicy: \"all\",\n  },\n};\nconst authLink: ApolloLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem(\"token\");\n  // if (!token) console.log('ldsmdlsdlm');\n\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `JWT ${token}` : \"\",\n    },\n  };\n});\nconst authMiddleware: ApolloLink = new ApolloLink((operation, forward) => {\n  // add the authorization to the headers\n  const token = localStorage.getItem(\"token\");\n  if (token == null) window.location.replace(\"/\");\n  operation.setContext({\n    headers: {\n      authorization: token ? `JWT ${token}` : \"\",\n    },\n  });\n\n  return forward(operation);\n});\nconst link: BatchHttpLink = new BatchHttpLink({\n  uri: serverUrl,\n  credentials: \"same-origin\",\n});\n// const resetToken = onError(({ response, networkError }) => {\n//   if (networkError && networkError.statusCode === 401) {\n//     // remove cached token on 401 from the server\n//     localStorage.clear();\n//   }\n// });\n// Creating the client\nexport const client: ApolloClient<NormalizedCacheObject> = new ApolloClient({\n  cache: new InMemoryCache({\n    addTypename: false,\n  }),\n\n  link: ApolloLink.from([errorLink, authLink, link]), // authLink,\n  //defaultOptions,\n});\n","// import Location from \"./icons/deal.png\";\nimport React from \"react\";\n\nimport {\n  PieChartFilled as Dashboard,\n  FolderAddFilled as Location,\n} from \"@ant-design/icons\";\n\ninterface LinkTypeBase {\n  title: string;\n  href: string;\n  icon?: any;\n}\nexport interface SingleLinkType extends LinkTypeBase {\n  type: \"signle\";\n}\nexport interface MultipleLinkType extends Omit<LinkTypeBase, \"href\"> {\n  type: \"multiple\";\n  pages: LinkTypeBase[];\n}\n\nexport type LinkType = MultipleLinkType | SingleLinkType;\n\nexport const links: LinkType[] = [\n  {\n    title: \"Dashboard\",\n    href: \"/dashboard\",\n    type: \"signle\",\n    icon: <Dashboard />,\n  },\n  {\n    title: \"Clients\",\n    type: \"multiple\",\n    icon: <Location />,\n    pages: [\n      {\n        title: \"List des clients\",\n        href: \"/clients/list\",\n      },\n      {\n        title: \"Nouveau Client\",\n        href: \"/clients/new\",\n      },\n      {\n        title: \"contacts\",\n        href: \"/clients/contacts/list\",\n      },\n    ],\n  },\n  {\n    title: \"Park\",\n    type: \"multiple\",\n    pages: [\n      {\n        href: \"/park/vehicules/list\",\n        title: \"List\",\n      },\n      {\n        href: \"/park/vehicules/create\",\n        title: \"Nouveau Vhicule\",\n      },\n    ],\n  },\n];\n","import React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { Layout, Button, Row, Col } from \"antd\";\nimport Sidebar from \"./layouts/sidebar/sidebar\";\nimport Content from \"./layouts/content\";\nimport { Router as BrowserRouter } from \"react-router-dom\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport { client } from \"./graphql\";\nimport Title from \"antd/lib/typography/Title\";\nimport { createBrowserHistory } from \"history\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport { browserHistory, appTitle } from \"./config\";\nimport { links } from \"./links\";\n\nexport const TitleContext = React.createContext({});\n\nfunction App() {\n  const [title, setValue] = useState(appTitle);\n  return (\n    <TitleContext.Provider value={{ title, setValue }}>\n      <ApolloProvider client={client}>\n        <BrowserRouter history={browserHistory}>\n          <Layout style={{ height: \"100%\" }}>\n            <Sidebar color=\"dark\" links={links}></Sidebar>\n\n            <Layout>\n              <Layout.Header\n                style={{\n                  // boxShadow: \"1px 1px 2px 1px gray\",\n                  backgroundColor: \"white\",\n                  padding: 0,\n                }}\n              >\n                <Row\n                  justify=\"space-between\"\n                  align=\"middle\"\n                  style={{ width: \"100%\" }}\n                >\n                  <Col span={20} style={{ textAlign: \"left\" }}>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        alignItems: \"baseline\",\n                        paddingLeft: 50,\n                        lineHeight: 0,\n                      }}\n                    >\n                      {/* <Button\n                        shape=\"circle\"\n                        style={{\n                          border: \"none\",\n                          marginRight: 10,\n                          marginLeft: 6\n                        }}\n                        onClick={() => {\n                          browserHistory.goBack();\n                        }}\n                      >\n                        <MenuIcon />\n                      </Button> */}\n\n                      <Title\n                        level={3}\n                        //style={{ fontFamily: \"Arial\", lineHeight: 0 }}\n                      >\n                        {title}\n                      </Title>\n                    </div>\n                  </Col>\n                  <Col span={1} style={{ textAlign: \"center\" }}>\n                    <Button\n                      icon={<UserOutlined />}\n                      style={{ marginLeft: \"auto\" }}\n                    />\n                  </Col>\n                </Row>\n              </Layout.Header>\n              <Content />\n            </Layout>\n          </Layout>\n        </BrowserRouter>\n      </ApolloProvider>\n    </TitleContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}